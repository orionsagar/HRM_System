@inject IHttpContextAccessor _accessor


<!DOCTYPE html>
<html lang="en">

<head>
    <title>WorkersPermit - Dash Board</title>
    <!-- HTML5 Shim and Respond.js IE10 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 10]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->
    <!-- Meta -->
    @*
    ====================================================================================================================================================
    ================================================== Below are the codes required for Verticle Page ==================================================
    ====================================================================================================================================================
    *@

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    @*<meta name="description" content="Gradient Able Bootstrap admin template made using Bootstrap 4 and it has huge amount of ready made feature, UI components, pages which completely fulfills any dashboard needs." />
    <meta name="keywords" content="bootstrap, bootstrap admin template, admin theme, admin dashboard, dashboard template, admin template, responsive" />*@
    <meta name="author" content="Phoenixcoded" />
    <!-- Favicon icon -->
    <link rel="icon" href="~/assets/images/favicon.ico" type="image/x-icon">
    <!-- Google font-->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500" rel="stylesheet">
    @* <!-- Required Fremwork -->
    <link rel="stylesheet" type="text/css" href="~/bower_components/bootstrap/css/bootstrap.min.css"> *@

    <!-- Required Fremwork -->
    <link rel="stylesheet" type="text/css" href="~/bower_components/bootstrap/css/bootstrap.css">
    @* <link rel="stylesheet" type="text/css" href="~/bower_components/bootstrap/css/bootstrap.min.css"> *@
    <!-- waves.css -->
    <link rel="stylesheet" href="~/assets/pages/waves/css/waves.min.css" type="text/css" media="all">
    <!-- themify-icons line icon -->
    <link rel="stylesheet" type="text/css" href="~/assets/icon/themify-icons/themify-icons.css">
    <!-- ico font -->
    <link rel="stylesheet" type="text/css" href="~/assets/icon/icofont/css/icofont.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" type="text/css" href="~/assets/icon/font-awesome/css/font-awesome.min.css">
    <!-- Select 2 css -->
    <link rel="stylesheet" href="~/bower_components/select2/css/select2.min.css" />

    <!-- Data Table Css -->
    @* <link rel="stylesheet" type="text/css" href="~/bower_components/datatables.net-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" type="text/css" href="~/assets/pages/data-table/css/buttons.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="~/bower_components/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css"> *@
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/2.0.7/css/dataTables.dataTables.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/3.0.2/css/responsive.dataTables.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/rowgroup/1.5.0/css/rowGroup.dataTables.css" />

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Css File Minified css file -->
    <link href="~/custom/css/custom.min.css" rel="stylesheet" />
    <!-- Multi Select css -->
    <link rel="stylesheet" type="text/css" href="~/bower_components/bootstrap-multiselect/css/bootstrap-multiselect.css" />
    <link rel="stylesheet" type="text/css" href="~/bower_components/multiselect/css/multi-select.css" />
    <!--forms-wizard css-->
    <link rel="stylesheet" type="text/css" href="~/bower_components/jquery.steps/css/jquery.steps.css">
    <!-- Style.css -->
    <link href="~/bower_components/jquery-ui/css/jquery-ui.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="~/assets/css/style.css">
    <link rel="stylesheet" type="text/css" href="~/assets/css/jquery.mCustomScrollbar.css">
    <!-- notify alert -->
    <link href="~/minify/css/minifyedpnotify.css" rel="stylesheet" />
    <!-- FancyBox JS -->
    @* <script src="~/assets/dist/jquery.fancybox.min.css"></script> *@
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/@@fancyapps/ui@5.0/dist/fancybox/fancybox.css" />

    <!-- Manual Updates made to the theme containe in this link below -->
    <link rel="stylesheet" href="~/assets/css/ManualUpdates.css">
    <link href="~/custom/css/HoldOn.min.css" rel="stylesheet" />
    <!--Font Awesome webfont for appendGrid button icons-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" />

    <style>
        .actionBtnRight {
            float: right;
        }

        .error {
            color: red !important;
        }

        .ShowLink {
            display: inline-block !important;
        }

        .HideLink {
            display: none !important;
        }

        .main-body .page-wrapper {
            padding: .08rem !important;
        }
    </style>
</head>
<body>


    @await Component.InvokeAsync("PreLoader")
    <div id="pcoded" class="pcoded">
        <div class="pcoded-overlay-box"></div>
        <div class="pcoded-container navbar-wrapper">
            @await Component.InvokeAsync("TopHeader1")
            <div class="pcoded-main-container">
                <div class="pcoded-wrapper">
                    @* @await Component.InvokeAsync("SideNavBar1") *@
                    <div class="pcoded-content m-0">
                        <div class="pcoded-inner-content">
                            <!-- Main-body start -->
                            <div class="main-body">
                                <div class="page-wrapper">
                                    <!-- Page-body start -->
                                    <div class="page-body">
                                        <!-- BreadCrum -->
                                        <div class="row">
                                            @{
                                                @if (IsSectionDefined("PageName"))
                                                {
                                                    <div class="breadCrumContainer col-xl-12 col-md-12 ">
                                                        <div class="breadCrumWrapper">
                                                            <div class="pageName">
                                                                <span>@RenderSection("PageName", required: false)</span>
                                                            </div>
                                                            <div class="breadCrum">
                                                                @RenderSection("Breadcrumb", required: false)
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                            }

                                        </div>
                                        @RenderBody()
                                        </<div>
                                            <!-- Page-body end -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Warning Section Starts -->
    <!-- Older IE warning message -->
    <!--[if lt IE 10]>
    <div class="ie-warning">
        <h1>Warning!!</h1>
        <p>You are using an outdated version of Internet Explorer, please upgrade <br/>to any of the following web browsers to access this website.</p>
        <div class="iew-container">
            <ul class="iew-download">
                <li>
                    <a href="http://www.google.com/chrome/">
                        <img src="~/assets/images/browser/chrome.png" alt="Chrome">
                        <div>Chrome</div>
                    </a>
                </li>
                <li>
                    <a href="https://www.mozilla.org/en-US/firefox/new/">
                        <img src="~/assets/images/browser/firefox.png" alt="Firefox">
                        <div>Firefox</div>
                    </a>
                </li>
                <li>
                    <a href="http://www.opera.com">
                        <img src="~/assets/images/browser/opera.png" alt="Opera">
                        <div>Opera</div>
                    </a>
                </li>
                <li>
                    <a href="https://www.apple.com/safari/">
                        <img src="~/assets/images/browser/safari.png" alt="Safari">
                        <div>Safari</div>
                    </a>
                </li>
                <li>
                    <a href="http://windows.microsoft.com/en-us/internet-explorer/download-ie">
                        <img src="~/assets/images/browser/ie.png" alt="">
                        <div>IE (9 & above)</div>
                    </a>
                </li>
            </ul>
        </div>
        <p>Sorry for the inconvenience!</p>
    </div>
    <![endif]-->
    <!-- Warning Section Ends -->
    <!-- Required Jquery -->
    <script type="text/javascript" src="~/bower_components/jquery/js/jquery.min.js"></script>
    <script type="text/javascript" src="~/bower_components/jquery-ui/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="~/bower_components/popper.js/js/popper.min.js"></script>
    <script type="text/javascript" src="~/bower_components/bootstrap/js/bootstrap.min.js"></script>
    <!-- waves js -->
    <script src="~/assets/pages/waves/js/waves.min.js"></script>
    <!-- jquery slimscroll js -->
    <script type="text/javascript" src="~/bower_components/jquery-slimscroll/js/jquery.slimscroll.js"></script>
    <!-- modernizr js -->
    <script type="text/javascript" src="~/bower_components/modernizr/js/modernizr.js"></script>
    <script type="text/javascript" src="~/bower_components/modernizr/js/css-scrollbars.js"></script>
    <!--Forms - Wizard js-->
    <script src="~/bower_components/jquery.cookie/js/jquery.cookie.js"></script>
    <script src="~/bower_components/jquery.steps/js/jquery.steps.js"></script>
    <script src="~/bower_components/jquery-validation/js/jquery.validate.js"></script>
    <!-- Validation js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
    <script type="text/javascript" src="~/assets/pages/form-validation/validate.js"></script>
    <!-- modalEffects js nifty modal window effects -->
    <script src="~/assets/js/classie.js"></script>
    <script type="text/javascript" src="~/assets/js/modalEffects.js"></script>
    <script src="~/assets/js/pcoded.min.js"></script>
    <script src="~/assets/js/vertical/vertical-layout.min.js"></script>
    <script src="~/assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
    <!-- Custom js -->
    <script src="~/assets/pages/forms-wizard-validation/form-wizard.js"></script>
    @*             <script src="~/assets/js/pcoded.min.js"></script>
    <script src="~/assets/js/vertical/vertical-layout.min.js"></script>
    <script src="~/assets/js/jquery.mCustomScrollbar.concat.min.js"></script> *@
    <script type="text/javascript" src="~/assets/js/script.js"></script>
    <!-- data-table js -->
    @* <script src="~/custom/js/dtminifide.js"></script> *@
    <script src="https://cdn.datatables.net/2.0.7/js/dataTables.js" type="text/javascript"></script>

    <!-- Custom js Minified file-->
    <script src="~/custom/js/custom-datatable.js"></script>
    <!-- Select2 js -->
    <script src="~/SelectTwo/dist/js/select2.full.js"></script>
    <!-- Select 2 js -->
    <script type="text/javascript" src="~/bower_components/select2/js/select2.full.min.js"></script>
    <!-- Multiselect js -->
    <script type="text/javascript" src="~/bower_components/bootstrap-multiselect/js/bootstrap-multiselect.js">
    </script>
    <script type="text/javascript" src="~/bower_components/multiselect/js/jquery.multi-select.js"></script>
    <!-- notify alert -->
    <script src="~/minify/js/minifyedpnotify.js"></script>

    <!-- FancyBox JS -->
    @* <script src="~/assets/dist/jquery.fancybox.min.js"></script> *@
    <script src="https://cdn.jsdelivr.net/npm/@@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>


    <!--appendGrid JS library-->
    <script src="https://cdn.jsdelivr.net/npm/jquery.appendgrid@2/dist/AppendGrid.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/floatthead@2.2.1/dist/jquery.floatThead.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/parsleyjs@2.9.1/dist/parsley.min.js"></script>

    <script src="~/custom/js/HoldOn.min.js"></script>

    <script type="text/javascript">
        // OpeningHoldon('sk-folding-cube', 'Please wait. Data is Saving...'); example
        function OpeningHoldon(themeName, message) {
            HoldOn.open({
                theme: themeName,
                message: `<h4>${message}</h4>` //"<h4>Please wait. Data is Saving...</h4>"
            });
        }
        function ClosingHoldon() {
            HoldOn.close();
        };

        function ConvertDateString(date) {
            var d = new Date(date);
            var day = d.getDate();
            var month = d.getMonth() + 1;
            var year = d.getFullYear();
            if (day < 10) {
                day = "0" + day;
            }
            if (month < 10) {
                month = "0" + month;
            }
            var date = day + "-" + month + "-" + year;
            return date;
        }

        function ConvertTimeString(dateTime) {
            const pattern = /[^T]*$/g;  //"2022-10-18T14:53:56" get time after T
            return pattern.exec(dateTime)[0];
        }

        function GetmeridianTime(dateTime) {
            let currentTime;
            // here we can give our date
            const currentDate = new Date(dateTime);
            // OR we can define like that also for current date
            // var currentDate = new Date();
            let hour = currentDate.getHours();
            let minutes = currentDate.getMinutes();
            var meridian = hour >= 12 ? " PM" : " AM";
            currentTime = ((hour + 11) % 12 + 1) + ":" + (minutes < 10 ? `0${minutes}` : minutes) + meridian;
            return currentTime;
        }


        $(document).ready(function () {

            $('.date').datepicker({
                dateFormat: 'dd-mm-yy',
                changeYear: true,
                changeMonth: true
            });
            $("#EmpCategoryId_Filter,#SectionId_Filter,#DesignationId_Filter,#DepartmentId_Filter,#OrgId_Filter").select2();

            Fancybox.bind('[data-fancybox]', {
                iframe: {
                    css: {
                        width: '300px',
                        height: '500px'
                    }
                },
                toolbar: false,
                smallBtn: true,
                iframe: {
                    preload: false
                }
            });


            Fancybox.bind('.fancysubmodule', {

                iframe: {
                    css: {
                        autoSize: true,
                        width: '400px',
                        height: '700px',

                    }
                },
                toolbar: false,
                smallBtn: true,
                iframe: {
                    preload: false
                }
            });
            // global phone no validation added by sayed
            $('.PN').on('input', function (e) {
                // Remove non-numeric characters except "+" and "-"
                var sanitized = $(this).val().replace(/[^0-9+-]/g, '');

                // Update the field value with the sanitized input
                $(this).val(sanitized);
            });

            // global phone no validation added by sayed
            $('.name').on('input', function (e) {
                // Remove non-numeric characters except "+" and "-"
                //var sanitized = $(this).val().replace(/^[a-zA-Z]+$/, '');
                var sanitized = $(this).val();
                const pattern = /^[a-zA-Z]+$/;
                const match = sanitized.match(pattern);
                // Update the field value with the sanitized input
                $(this).val(match);
            });



            $('.email').on('input', function () {
                // Get the value of the email input
                var email = $(this).val();

                // Regular expression pattern for validating email
                var emailPattern = /^[^\s@@]+@@[^\s@@]+\.[^\s@@]+$/;
                // Check if the input matches the email pattern
                if (emailPattern.test(email)) {
                    // Valid email address
                    $('#email-error').text(''); // Clear any previous error message
                } else {
                    // Invalid email address
                    $('#email-error').text('Please enter a valid email address');
                }
            });
        });


        $(document).on({
            ajaxStart: function () {
                $("#loader").addClass("loading");
            },
            ajaxComplete: function () {
                $("#loader").removeClass("loading");
            }
        });


        function SuccessPNotify(msg) {
            new PNotify({
                //title: 'Sticky notice',
                text: '' + msg,
                addclass: 'bg-sucess',
                //hide: true,
                icon: 'icofont icofont-info-circle',
                type: 'success'
            });
        }
        function WarningPNotify(msg) {
            new PNotify({
                //title: 'Sticky notice',
                text: '' + msg,
                addclass: 'bg-warning',
                //hide: true,
                icon: 'icofont icofont-info-circle',
                type: 'warning'
            });
        }
        function DangerPNotify(msg) {
            new PNotify({
                //title: 'Sticky notice',
                text: '' + msg,
                addclass: 'bg-danger',
                //hide: true,
                icon: 'icofont icofont-info-circle',
                type: 'danger'
            });
        }

        function confirmmodal(link, peram, message) {
            $('#message').attr(message)
            $("#btndeleteconfirm").attr("href", link + '/' + peram)
            $('#confirm').modal('show');
            return
        }
        /// For Date Format month/day/year
        function getDateString(date) {
            var d = new Date(date);
            var day = d.getDate();
            var month = d.getMonth() + 1;
            var year = d.getFullYear();
            if (day < 10) {
                day = "0" + day;
            }
            if (month < 10) {
                month = "0" + month;
            }
            var date = day + "/" + month + "/" + year;
            return date;
        }

        function ConfirmDialog(message, callbackFunction) {
            $('<div></div>').appendTo('body')
                .html('<div><h6>' + message + '?</h6></div>')
                .dialog({
                    show: "fadein",
                    modal: true,
                    title: 'Confirm message',
                    zIndex: 10000,
                    autoOpen: true,
                    width: 'auto',
                    resizable: false,
                    hide: "fadeout",
                    buttons: {
                        Yes: function () {
                            callbackFunction();
                            //$('body').append('<h1>Confirm Dialog Result: <i>Yes</i></h1>');
                            $(this).dialog("close");
                        },
                        No: function () {
                            /*$('body').append('<h1>Confirm Dialog Result: <i>No</i></h1>');*/
                            $(this).dialog("close");
                        }
                    },
                    close: function (event, ui) {
                        $(this).remove();
                    }
                });
        };
    </script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>



